!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("qrcode"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-qrcode",["exports","@angular/core","qrcode","@angular/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-qrcode"]={},e.ng.core,e.qrcode,e.ng.common)}(this,(function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(r),a=function(){};a.decorators=[{type:t.Component,args:[{selector:"qr-code",template:'\n    <canvas *ngIf="value"\n            [qrCode]="value"\n            [qrCodeErrorCorrectionLevel]="errorCorrectionLevel"\n            [qrCodeCenterImageSrc]="centerImageSrc"\n            [qrCodeCenterImageWidth]="centerImageSize"\n            [qrCodeCenterImageHeight]="centerImageSize"\n            [qrCodeMargin]="margin"\n            [width]="size"\n            [height]="size">\n    </canvas>\n  '}]}],a.propDecorators={value:[{type:t.Input}],size:[{type:t.Input}],errorCorrectionLevel:[{type:t.Input}],centerImageSrc:[{type:t.Input}],centerImageSize:[{type:t.Input}],margin:[{type:t.Input}]};function c(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create;Object.create;var u=function(){function e(t){this.viewContainerRef=t,this.errorCorrectionLevel=e.DEFAULT_ERROR_CORRECTION_LEVEL,this.margin=16}return e.prototype.ngOnChanges=function(){var t,r;return c(this,void 0,void 0,(function(){var n,o,a,c,u,h,d;return s(this,(function(s){switch(s.label){case 0:return this.value?(this.version&&this.version>40?(console.warn("[qrCode] max version is 40, clamping"),this.version=40):this.version&&this.version<1?(console.warn("[qrCode] min version is 1, clamping"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[qrCode] version should be set to a number, defaulting to auto"),this.version=void 0),(n=this.viewContainerRef.element.nativeElement)?((o=n.getContext("2d"))&&o.clearRect(0,0,o.canvas.width,o.canvas.height),a=null!==(t=this.errorCorrectionLevel)&&void 0!==t?t:e.DEFAULT_ERROR_CORRECTION_LEVEL,[4,i.default.toCanvas(n,this.value,{version:this.version,errorCorrectionLevel:a,width:this.width,margin:this.margin})]):[2]):[2];case 1:return s.sent(),c=this.centerImageSrc,u=l(this.centerImageWidth,e.DEFAULT_CENTER_IMAGE_SIZE),h=l(this.centerImageHeight,e.DEFAULT_CENTER_IMAGE_SIZE),c&&o&&(this.centerImage||(this.centerImage=new Image(u,h)),c!==(null===(r=this.centerImage)||void 0===r?void 0:r.src)&&(this.centerImage.src=c),u!==this.centerImage.width&&(this.centerImage.width=u),h!==this.centerImage.height&&(this.centerImage.height=h),(d=this.centerImage).onload=function(){o.drawImage(d,n.width/2-u/2,n.height/2-h/2,u,h)}),[2]}}))}))},e}();function l(e,t){return void 0===e||""===e?t:"string"==typeof e?parseInt(e,10):e}u.DEFAULT_ERROR_CORRECTION_LEVEL="M",u.DEFAULT_CENTER_IMAGE_SIZE=40,u.decorators=[{type:t.Directive,args:[{selector:"canvas[qrCode]"}]}],u.ctorParameters=function(){return[{type:t.ViewContainerRef}]},u.propDecorators={value:[{type:t.Input,args:["qrCode"]}],version:[{type:t.Input,args:["qrCodeVersion"]}],errorCorrectionLevel:[{type:t.Input,args:["qrCodeErrorCorrectionLevel"]}],width:[{type:t.Input}],height:[{type:t.Input}],centerImageSrc:[{type:t.Input,args:["qrCodeCenterImageSrc"]}],centerImageWidth:[{type:t.Input,args:["qrCodeCenterImageWidth"]}],centerImageHeight:[{type:t.Input,args:["qrCodeCenterImageHeight"]}],margin:[{type:t.Input,args:["qrCodeMargin"]}]};var h=function(){};h.decorators=[{type:t.NgModule,args:[{declarations:[a,u],imports:[n.CommonModule],exports:[a,u]}]}],e.QrCodeComponent=a,e.QrCodeDirective=u,e.QrCodeModule=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-qrcode.umd.min.js.map