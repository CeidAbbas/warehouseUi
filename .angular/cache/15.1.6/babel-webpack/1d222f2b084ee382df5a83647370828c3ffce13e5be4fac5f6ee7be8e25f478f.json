{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Ware } from \"./ware\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./ware.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"primeng/tree\";\nfunction WareEditComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const wareUnit_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", wareUnit_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(wareUnit_r1.label);\n  }\n}\nexport class WareEditComponent {\n  // selectedFile: TreeNode;\n  // baseInformationComponent: BaseInformationComponent;\n  constructor(wareService) {\n    this.wareService = wareService;\n    this.wareId = '';\n    this.editModeEmitter = new EventEmitter();\n    this.treeNode = [];\n    this.ware = new Ware();\n  }\n  ngOnInit() {\n    if (this.wareId != '') {\n      this.onLoad();\n    }\n    this.loadBaseInformation();\n  }\n  onLoad() {\n    this.ware = new Ware();\n    this.wareService.loadWare(this.wareId).subscribe(ware => {\n      this.ware = ware;\n    });\n  }\n  save() {\n    console.log(this.selectedFile);\n    // @ts-ignore\n    this.ware.typeTitle = this.selectedFile.label;\n    // @ts-ignore\n    this.ware.typeId = this.selectedFile.id;\n    console.log(this.ware);\n    this.wareService.saveWare(this.ware).subscribe(ware => {\n      success: {\n        this.switchToGrid();\n      }\n    });\n  }\n  switchToGrid() {\n    this.ware = new Ware();\n    this.editModeEmitter.emit(false);\n  }\n  loadBaseInformation() {\n    this.wareService.getAllBaseInformation().subscribe(baseInformations => {\n      this.wareUnits = baseInformations.filter(baseInformation => {\n        return baseInformation.parent === '0cd673ef-3d3c-43bc-b52a-254175a7f751';\n      });\n    });\n    this.wareService.getAllBaseInformation().subscribe(baseInformations => {\n      this.wareTypes = baseInformations.filter(baseInformation => {\n        // @ts-ignore\n        return baseInformation.hierarchy.search('002') === 0 && baseInformation.id !== 'f3f2644f-6fac-429b-b7cc-df1e2947b63e';\n      });\n      this.makeTreeJson(this.wareTypes);\n    });\n  }\n  makeTreeJson(baseInformations) {\n    let baseInformationHeaderFiltered = [];\n    baseInformationHeaderFiltered = baseInformations.filter((baseInformation, index) => {\n      baseInformation.hierarchy < 1000000 ? delete baseInformations[index] : null;\n      return baseInformation.hierarchy < 1000000;\n    });\n    baseInformationHeaderFiltered.forEach(baseInformationHeader => {\n      if (baseInformationHeader != undefined) this.getChild(baseInformationHeader, baseInformations);\n    });\n    this.treeNode = baseInformationHeaderFiltered;\n  }\n  getChild(baseInformationHeader, baseInformations) {\n    let baseInformationsTree = [];\n    baseInformationHeader.children = new Array();\n    baseInformations.filter(baseInformation => {\n      // @ts-ignore\n      if (baseInformation.hierarchy !== baseInformationHeader.hierarchy && baseInformation.hierarchy.search(baseInformationHeader.hierarchy) === 0 && baseInformationHeader.hierarchy.length + 3 === baseInformation.hierarchy.length) {\n        let bae = this.getChild(baseInformation, baseInformations);\n        // @ts-ignore\n        baseInformationHeader.children.push(bae[0]);\n      }\n    });\n    baseInformationsTree.push(baseInformationHeader);\n    return baseInformationsTree;\n  }\n}\nWareEditComponent.ɵfac = function WareEditComponent_Factory(t) {\n  return new (t || WareEditComponent)(i0.ɵɵdirectiveInject(i1.WareService));\n};\nWareEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WareEditComponent,\n  selectors: [[\"app-ware-edit\"]],\n  inputs: {\n    wareId: \"wareId\"\n  },\n  outputs: {\n    editModeEmitter: \"editModeEmitter\"\n  },\n  decls: 34,\n  vars: 6,\n  consts: [[1, \"row\", \"m-0\", \"p-0\", \"col-12\", \"col-sm-12\"], [1, \"row\", \"m-0\", \"mt-3\", \"p-0\", \"col-6\", \"col-sm-6\"], [\"for\", \"\", 1, \"col-12\", \"col-sm-12\", \"control-label\", \"text-danger\"], [1, \"col-12\", \"col-sm-12\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"selectionMode\", \"single\", 3, \"value\", \"selection\", \"selectionChange\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"\", \"value\", \"0\"], [\"class\", \"\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"\", 1, \"col-12\", \"col-sm-12\", \"control-label\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"m-0\", \"mt-3\", \"p-0\", \"col-12\", \"col-sm-12\"], [2, \"width\", \"8rem\"], [1, \"btn\", \"btn-primary\", \"w-100\", 3, \"click\"], [1, \"fa\", \"fa-save\"], [1, \"btn\", \"btn-danger\", \"w-100\"], [1, \"fa\", \"fa-refresh\"], [1, \"btn\", \"btn-warning\", \"w-100\", 3, \"click\"], [1, \"fa\", \"fa-backspace\"], [1, \"\", 3, \"value\"]],\n  template: function WareEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n      i0.ɵɵtext(3, \"\\u0646\\u0627\\u0645 \\u06A9\\u0627\\u0644\\u0627\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function WareEditComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.ware.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 1)(6, \"label\", 2);\n      i0.ɵɵtext(7, \"\\u06AF\\u0631\\u0648\\u0647 \\u06A9\\u0627\\u0644\\u0627\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p-tree\", 4);\n      i0.ɵɵlistener(\"selectionChange\", function WareEditComponent_Template_p_tree_selectionChange_8_listener($event) {\n        return ctx.selectedFile = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 0)(10, \"div\", 1)(11, \"label\", 2);\n      i0.ɵɵtext(12, \"\\u0648\\u0627\\u062D\\u062F \\u06A9\\u0627\\u0644\\u0627\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"select\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function WareEditComponent_Template_select_ngModelChange_13_listener($event) {\n        return ctx.ware.unitId = $event;\n      });\n      i0.ɵɵelementStart(14, \"option\", 6);\n      i0.ɵɵtext(15, \"\\u0648\\u0627\\u062D\\u062F \\u06A9\\u0627\\u0644\\u0627 \\u0631\\u0627 \\u0627\\u0646\\u062A\\u062E\\u0627\\u0628 \\u0646\\u0645\\u0627\\u06CC\\u06CC\\u062F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, WareEditComponent_option_16_Template, 2, 2, \"option\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 1)(18, \"label\", 8);\n      i0.ɵɵtext(19, \"\\u0648\\u0636\\u0639\\u06CC\\u062A\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function WareEditComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.ware.status = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 10)(22, \"span\", 11)(23, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function WareEditComponent_Template_button_click_23_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(24, \" \\u062B\\u0628\\u062A \");\n      i0.ɵɵelement(25, \"i\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"span\", 11)(27, \"button\", 14);\n      i0.ɵɵtext(28, \" \\u0628\\u0627\\u0632\\u0646\\u0634\\u0627\\u0646\\u06CC \");\n      i0.ɵɵelement(29, \"i\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"span\", 11)(31, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function WareEditComponent_Template_button_click_31_listener() {\n        return ctx.switchToGrid();\n      });\n      i0.ɵɵtext(32, \" \\u0628\\u0627\\u0632\\u06AF\\u0634\\u062A \");\n      i0.ɵɵelement(33, \"i\", 17);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.ware.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.treeNode)(\"selection\", ctx.selectedFile);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.ware.unitId);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.wareUnits);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.ware.status);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.Tree],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","Ware","i0","WareEditComponent","constructor","wareService","ware","ngOnInit","wareId","onLoad","loadBaseInformation","loadWare","subscribe","save","console","log","selectedFile","typeTitle","label","typeId","id","saveWare","success","switchToGrid","editModeEmitter","emit","getAllBaseInformation","baseInformations","wareUnits","filter","baseInformation","parent","wareTypes","hierarchy","search","makeTreeJson","baseInformationHeaderFiltered","index","forEach","baseInformationHeader","undefined","getChild","treeNode","baseInformationsTree","children","Array","length","bae","push","selectors","inputs","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\wamp64\\www\\warehouseMicroService\\warehouseUi0\\src\\app\\ware\\ware-edit.component.ts","D:\\wamp64\\www\\warehouseMicroService\\warehouseUi0\\src\\app\\ware\\ware-edit.component.html"],"sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\r\nimport {BaseInformation} from '../general/reference/base-information/base-information';\r\nimport {Ware} from \"./ware\";\r\nimport {WareService} from \"./ware.service\";\r\nimport {TreeNode} from \"primeng/api\";\r\nimport {BaseInformationComponent} from \"../general/reference/base-information/base-information.component\";\r\n\r\n@Component({\r\n  selector: 'app-ware-edit',\r\n  templateUrl: './ware-edit.component.html',\r\n  styleUrls: ['./ware-edit.component.css']\r\n})\r\nexport class WareEditComponent implements OnInit {\r\n\r\n  public ware: Ware;\r\n  public baseInformations?: BaseInformation[];\r\n  public wareUnits?: BaseInformation[];\r\n  public wareTypes?: BaseInformation[];\r\n  public editLoadId?: string;\r\n  @Input() public wareId: string = '';\r\n  @Output() public editModeEmitter: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  treeNode: TreeNode[] = [];\r\n  selectedFile?: BaseInformation;\r\n  // selectedFile: TreeNode;\r\n\r\n  // baseInformationComponent: BaseInformationComponent;\r\n\r\n  constructor(\r\n    private wareService: WareService,\r\n  ) {\r\n    this.ware = new Ware();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.wareId != '') {\r\n      this.onLoad();\r\n    }\r\n    this.loadBaseInformation();\r\n  }\r\n\r\n  onLoad() {\r\n    this.ware = new Ware();\r\n    this.wareService.loadWare(this.wareId).subscribe(ware => {\r\n      this.ware = ware;\r\n    });\r\n  }\r\n\r\n  save() {\r\n    console.log(this.selectedFile);\r\n    // @ts-ignore\r\n    this.ware.typeTitle = this.selectedFile.label;\r\n    // @ts-ignore\r\n    this.ware.typeId = this.selectedFile.id;\r\n    console.log(this.ware);\r\n    this.wareService.saveWare(this.ware).subscribe(ware => {\r\n      success: {\r\n        this.switchToGrid();\r\n      }\r\n    });\r\n  }\r\n\r\n  switchToGrid() {\r\n    this.ware = new Ware();\r\n    this.editModeEmitter.emit(false);\r\n  }\r\n\r\n  private loadBaseInformation() {\r\n    this.wareService.getAllBaseInformation().subscribe(baseInformations => {\r\n      this.wareUnits = baseInformations.filter(baseInformation => {\r\n        return baseInformation.parent === '0cd673ef-3d3c-43bc-b52a-254175a7f751';\r\n      });\r\n    });\r\n    this.wareService.getAllBaseInformation().subscribe(baseInformations => {\r\n      this.wareTypes = baseInformations.filter(baseInformation => {\r\n        // @ts-ignore\r\n        return baseInformation.hierarchy.search('002') === 0 && baseInformation.id !== 'f3f2644f-6fac-429b-b7cc-df1e2947b63e';\r\n      });\r\n      this.makeTreeJson(this.wareTypes);\r\n    });\r\n  }\r\n\r\n  public makeTreeJson(baseInformations: any[]): void {\r\n    let baseInformationHeaderFiltered: BaseInformation[] = [];\r\n    baseInformationHeaderFiltered = baseInformations.filter((baseInformation, index) => {\r\n      baseInformation.hierarchy < 1000000 ? delete baseInformations[index] : null;\r\n      return baseInformation.hierarchy < 1000000;\r\n    });\r\n    baseInformationHeaderFiltered.forEach((baseInformationHeader) => {\r\n      if (baseInformationHeader != undefined)\r\n        this.getChild(baseInformationHeader, baseInformations);\r\n    });\r\n    this.treeNode = baseInformationHeaderFiltered as TreeNode[];\r\n  }\r\n\r\n  getChild(baseInformationHeader: BaseInformation, baseInformations: BaseInformation[]): BaseInformation[] {\r\n    let baseInformationsTree: BaseInformation[] = [];\r\n    baseInformationHeader.children = new Array<BaseInformation>();\r\n    baseInformations.filter(baseInformation => {\r\n      // @ts-ignore\r\n      if (baseInformation.hierarchy !== baseInformationHeader.hierarchy && baseInformation.hierarchy.search(baseInformationHeader.hierarchy) === 0 && (baseInformationHeader.hierarchy.length + 3) === baseInformation.hierarchy.length) {\r\n        let bae = this.getChild(baseInformation, baseInformations);\r\n        // @ts-ignore\r\n        baseInformationHeader.children.push(bae[0] as BaseInformation);\r\n      }\r\n    });\r\n    baseInformationsTree.push(baseInformationHeader);\r\n    return baseInformationsTree;\r\n  }\r\n\r\n}\r\n","<div class=\"row m-0 p-0 col-12 col-sm-12\">\r\n  <div class=\"row m-0 mt-3 p-0 col-6 col-sm-6\">\r\n    <label for=\"\" class=\"col-12 col-sm-12 control-label text-danger\">نام کالا</label>\r\n    <input class=\"col-12 col-sm-12 form-control\" [(ngModel)]=\"ware.name\">\r\n  </div>\r\n  <div class=\"row m-0 mt-3 p-0 col-6 col-sm-6\">\r\n    <label for=\"\" class=\"col-12 col-sm-12 control-label text-danger\">گروه کالا</label>\r\n        <p-tree\r\n          [value]=\"treeNode\"\r\n          selectionMode=\"single\"\r\n          [(selection)]=\"selectedFile\"\r\n        ></p-tree>\r\n<!--    <select class=\"col-12 col-sm-12 form-control\" [(ngModel)]=\"ware.typeId\">-->\r\n<!--      <option value=\"-1\" [selected]=\"true\">گروه کالا انتخاب نمایید</option>-->\r\n<!--      <option class=\"\" *ngFor=\"let wareType of wareTypes\"-->\r\n<!--              value=\"{{wareType.id}}\">{{ wareType.label }}</option>-->\r\n<!--    </select>-->\r\n    <!--      [contextMenu]=\"rightMenu\"-->\r\n  </div>\r\n</div>\r\n<div class=\"row m-0 p-0 col-12 col-sm-12\">\r\n  <div class=\"row m-0 mt-3 p-0 col-6 col-sm-6\">\r\n    <label for=\"\" class=\"col-12 col-sm-12 control-label text-danger\">واحد کالا</label>\r\n    <select class=\"form-control\" [(ngModel)]=\"ware.unitId\">\r\n      <option selected value=\"0\">واحد کالا را انتخاب نمایید</option>\r\n      <option class=\"\" *ngFor=\"let wareUnit of wareUnits\"\r\n              value=\"{{wareUnit.id}}\">{{ wareUnit.label }}</option>\r\n    </select>\r\n  </div>\r\n  <div class=\"row m-0 mt-3 p-0 col-6 col-sm-6\">\r\n    <label for=\"\" class=\"col-12 col-sm-12 control-label\">وضعیت</label>\r\n    <input type=\"checkbox\" [(ngModel)]=\"ware.status\">\r\n  </div>\r\n  <!--  <div class=\"row m-0 mt-3 p-0 col-6 col-sm-6\">-->\r\n  <!--  </div>-->\r\n</div>\r\n<div class=\"row m-0 mt-3 p-0 col-12 col-sm-12\">\r\n    <span style=\"width: 8rem;\">\r\n    <button class=\"btn btn-primary w-100\" (click)=\"save()\">\r\n      ثبت\r\n      <i class=\"fa fa-save\"></i>\r\n    </button>\r\n    </span>\r\n  <span style=\"width: 8rem;\">\r\n    <button class=\"btn btn-danger w-100\">\r\n      بازنشانی\r\n      <i class=\"fa fa-refresh\"></i>\r\n    </button>\r\n    </span>\r\n  <span style=\"width: 8rem;\">\r\n    <button class=\"btn btn-warning w-100\" (click)=\"switchToGrid()\">\r\n      بازگشت\r\n      <i class=\"fa fa-backspace\"></i>\r\n    </button>\r\n    </span>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}